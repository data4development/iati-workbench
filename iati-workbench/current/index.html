<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spreadsheets2IATI engine :: IATI workbench</title>
    <link rel="next" href="ant-results.html">
    <meta name="generator" content="Antora 3.0.1">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">IATI workbench</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs" autofocus>
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="iati-workbench" data-version="1.8.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">IATI Workbench</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Workbench technical reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ant-results.html">Ant results</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="workspace.html">Workspace location</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="xspec-tests.html">Xspec tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="version-release.html">Version releases</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="spreadsheets2iati/index.html">Spreadsheets2IATI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spreadsheets2iati/reference/date-formats.html">Date formats</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="spreadsheets2iati/reference/client-configuration.html">Client configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">IATI Workbench</span>
    <span class="version">1.8.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">IATI Workbench</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.8.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">IATI Workbench</a></li>
    <li><a href="index.html">Workbench technical reference</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/data4development/iati-workbench/edit/main/docs/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Spreadsheets2IATI engine</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Scripts to transform a set of input files (spreadsheets, IATI) into a combined IATI file.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_the_aidi_s2i_wrapper_to_your_path"><a class="anchor" href="#_add_the_aidi_s2i_wrapper_to_your_path"></a>Add the <code>aidi-s2i</code> wrapper to your path</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can put the <code>aida-s2i</code> script in your path, for instance as a symlink:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ln -s ${PWD}/aida-s2i ~/bin/aida-s2i</pre>
</div>
</div>
<div class="paragraph">
<p>This script can help build and run the container.
To see its options:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ aida-s2i -h</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_build_the_container"><a class="anchor" href="#_build_the_container"></a>Build the container</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before building the container, make sure to check out the git submodules.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git submodule update --init --recursive</pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Work in progress: a local workspace (directory on host machine) is still required to run.
This will become optional.</p>
</div>
<div class="paragraph">
<p>The local workspace directory has to be mounted under /workspace.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this case, the container will run as the user building the image.
You need to make sure it has proper permissions for the local workspace directory.</p>
</div>
<div class="sect2">
<h3 id="_with_aida_s2i"><a class="anchor" href="#_with_aida_s2i"></a>With <code>aida-s2i</code></h3>
<div class="literalblock">
<div class="content">
<pre>$ aida-s2i -d build</pre>
</div>
</div>
<div class="paragraph">
<p>Then, verify everything is running:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ aida-s2i</pre>
</div>
</div>
<div class="paragraph">
<p>This will show the list of available "targets" in the workbench.</p>
</div>
</div>
<div class="sect2">
<h3 id="_manually"><a class="anchor" href="#_manually"></a>Manually</h3>
<div class="literalblock">
<div class="content">
<pre>$ docker build --build-arg UID=$(id -u) --build-arg GID=$(id -g) -t aida-s2i .</pre>
</div>
</div>
<div class="paragraph">
<p>You should be able to run it and get a list of available targets:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ docker run --rm aida-s2i</pre>
</div>
</div>
<div class="paragraph">
<p>This will show the list of available "targets" in the workbench.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_workspaces"><a class="anchor" href="#_workspaces"></a>Workspaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You run the engine in a folder that will function as the 'workspace'.
You specify the task you want performed, and the engine will take all steps needed to transform the source data into the desired output formats.</p>
</div>
<div class="paragraph">
<p>The <code>aida-s2i</code> script will mount the current directory as the workspace.</p>
</div>
<div class="paragraph">
<p>Once you run any of the tasks, it will create the necessary folders for the source of your data, the intermediary files, and the output files generated.</p>
</div>
<div class="paragraph">
<p>You can run <code>aida-s2i init</code> to create those folders yourself.</p>
</div>
<div class="sect2">
<h3 id="_sample_data"><a class="anchor" href="#_sample_data"></a>Sample data</h3>
<div class="paragraph">
<p>The <a href="https://github.com/data4development/demo-workspace">demo-workspace repository</a> contains example data files.</p>
</div>
<div class="paragraph">
<p>Clone the repository, and inside the directory, run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ aida-s2i spreadsheet-iati</pre>
</div>
</div>
<div class="paragraph">
<p>This should process the input files and produce a raw IATI file in <code>src/</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h3>
<div class="paragraph">
<p>First inspiration came from <a href="https://github.com/KitWallace/AIDVIEW-DB">Kit Wallace&#8217;s Aidview DB (working with eXist)</a></p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="next"><a href="ant-results.html">Ant results</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
